{"version":3,"file":"static/js/356.f2b60a70.chunk.js","mappings":"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","sources":["shared/components/Card.jsx","patients/pages/Patients.jsx","shared/components/Input.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst Card = (props) => {\r\n  const { title, link, imgsrc, imgalt } = props;\r\n\r\n  return (\r\n    <div className=\"w-80 h-96 relative overflow-auto shadow-lg bg-blue-600\">\r\n      <div className=\"font-semibold text-center text-white p-4\">{title}</div>\r\n      <div className=\"w-full h-60 flex justify-center items-center\">\r\n        <img className=\"w-60 h-60\" src={imgsrc} alt={imgalt} />\r\n      </div>\r\n      <div className=\"w-full h-9 absolute bottom-0 text-center\">\r\n        <Link className=\"text-white\" to={link}>\r\n          View\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { handleError } from \"../../shared/components/toast\";\r\nimport Card from \"../../shared/components/Card\";\r\nimport LoadingSpinner from \"../../shared/components/LoadingSpinner\";\r\nimport profile_photo from \"../../imgs/profile_photo.jpeg\";\r\nimport Input from \"../../shared/components/Input\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nconst Patients = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [patients, setPatients] = useState(null);\r\n  const [filteredPatients, setFilteredPatients] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      axios\r\n        .get(`${process.env.REACT_APP_SERVER_URL}api/patients/fetchall`, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + auth.token,\r\n          },\r\n        })\r\n        .then((resp) => {\r\n          setPatients(resp.data.patients);\r\n          setFilteredPatients(resp.data.patients);\r\n        })\r\n        .catch((err) => {\r\n          handleError(err);\r\n        });\r\n    } else {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [auth.token, navigate]);\r\n\r\n  const handleOnChange = (e) => {\r\n    const { value } = e.target;\r\n    setSearch(value);\r\n    setFilteredPatients(\r\n      patients.filter(\r\n        (patient) =>\r\n          patient.first_name.toLowerCase().includes(value.toLowerCase()) ||\r\n          patient.last_name.toLowerCase().includes(value.toLowerCase())\r\n      )\r\n    );\r\n\r\n    // setInputValue({\r\n    //   ...inputValue,\r\n    //   [name]: value,\r\n    // });\r\n  };\r\n\r\n  if (patients == null) {\r\n    return <LoadingSpinner />;\r\n  } else if (patients.length === 0 && auth.token) {\r\n    return (\r\n      <div className=\"bg-white p-10 h-80 shadow md:w-3/4 lg:w-1/2 mx-auto\">\r\n        <div className=\"prose\">\r\n          <h2 className=\"pb-6\">No Patients</h2>\r\n        </div>\r\n        <p>You have no patients.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const patientCards = filteredPatients.map((patient) => (\r\n    <div className=\"m-3\" key={patient._id}>\r\n      <Card\r\n        title={`${patient.first_name} ${patient.last_name}`}\r\n        imgsrc={\r\n          patient.image\r\n            ? process.env.REACT_APP_SERVER_URL + patient.image\r\n            : profile_photo\r\n        }\r\n        imgalt={patient.name}\r\n        link={`/patientdetail/${patient._id}`}\r\n      />\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <div className=\"w-3/4\">\r\n      <div className=\"flex justify-center\">\r\n        <div className=\"w-96 pb-3\">\r\n          <Input\r\n            label=\"search\"\r\n            type=\"text\"\r\n            id=\"search\"\r\n            name=\"search\"\r\n            placeholder=\"Search\"\r\n            value={search}\r\n            onChange={handleOnChange}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex flex-wrap justify-center\">{patientCards}</div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Patients;\r\n","const Input = (props) => {\r\n  const { label, label_txt, type, id, name, placeholder, value, onChange } =\r\n    props;\r\n\r\n  let element;\r\n  if (\r\n    type === \"text\" ||\r\n    type === \"number\" ||\r\n    type === \"email\" ||\r\n    type === \"password\"\r\n  ) {\r\n    element = (\r\n      <input\r\n        type={type}\r\n        id={id}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n        className=\"border border-gray-300 shadow p-2 w-full\"\r\n      />\r\n    );\r\n  } else if (type === \"textarea\") {\r\n    element = (\r\n      <textarea\r\n        className=\"border border-gray-300 shadow p-2 w-full\"\r\n        style={{ resize: \"none\" }}\r\n        id={id}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        rows=\"2\"\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    );\r\n  } else if (type === \"file\") {\r\n    element = (\r\n      <input\r\n        className=\"border border-gray-300 shadow w-full file:bg-blue-500 file:text-white file:font-bold file:py-2 file:px-4\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        disabled={false}\r\n        type={type}\r\n        onChange={onChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label htmlFor={label} className=\"block mb-2 font-bold text-gray-600\">\r\n        {label_txt}\r\n      </label>\r\n      {element}\r\n    </div>\r\n  );\r\n};\r\nexport default Input;\r\n"],"names":["props","title","link","imgsrc","imgalt","_jsxs","className","children","_jsx","src","alt","Link","to","auth","useContext","AuthContext","_useState","useState","_useState2","_slicedToArray","patients","setPatients","_useState3","_useState4","filteredPatients","setFilteredPatients","navigate","useNavigate","_useState5","_useState6","search","setSearch","useEffect","token","axios","get","concat","process","headers","Authorization","then","resp","data","catch","err","handleError","LoadingSpinner","length","patientCards","map","patient","Card","first_name","last_name","image","profile_photo","name","_id","Input","label","type","id","placeholder","value","onChange","e","target","filter","toLowerCase","includes","ToastContainer","element","label_txt","style","resize","rows","accept","disabled","htmlFor"],"sourceRoot":""}