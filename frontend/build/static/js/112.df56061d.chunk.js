"use strict";(self.webpackChunkdoctor_portal=self.webpackChunkdoctor_portal||[]).push([[112],{242:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(251),n=s(987),l=s(184);const i=e=>{const{patient:t,handleSubmit:s,handleOnChange:i}=e;return(0,l.jsxs)("form",{onSubmit:s,children:[(0,l.jsx)(a.Z,{label:"first_name",label_txt:"First Name",type:"text",id:"first_name",name:"first_name",placeholder:"Enter First Name",value:t.first_name,onChange:i}),(0,l.jsx)(a.Z,{label:"last_name",label_txt:"Last Name",type:"text",id:"last_name",name:"last_name",placeholder:"Enter Last Name",value:t.last_name,onChange:i}),(0,l.jsx)(a.Z,{label:"age",label_txt:"Age",type:"number",id:"age",name:"age",placeholder:"Enter age",value:t.age,onChange:i}),(0,l.jsx)(a.Z,{label:"contact",label_txt:"Contact Tel.",type:"text",id:"contact",name:"contact",placeholder:"Enter telephone number",value:t.contact,onChange:i}),(0,l.jsx)(a.Z,{label:"emergency_contact",label_txt:"Emergency Contact Tel.",type:"text",id:"emergency_contact",name:"emergency_contact",placeholder:"Enter telephone number",value:t.emergency_contact,onChange:i}),(0,l.jsx)(a.Z,{label:"pre_existing_conditions",label_txt:"Pre-existing Conditions",type:"textarea",id:"pre_existing_conditions",name:"pre_existing_conditions",placeholder:"Enter Pre-existing conditions",value:t.pre_existing_conditions,onChange:i}),(0,l.jsx)(a.Z,{label:"symptoms",label_txt:"Symptoms",type:"textarea",id:"symptoms",name:"symptoms",placeholder:"Enter Symptoms",value:t.symptoms,onChange:i}),(0,l.jsx)(a.Z,{label:"diagnosis",label_txt:"Diagnosis",type:"textarea",id:"diagnosis",name:"diagnosis",placeholder:"Enter Diagnosis",value:t.diagnosis,onChange:i}),(0,l.jsx)(a.Z,{label:"treatment",label_txt:"Treatment",type:"textarea",id:"treatment",name:"treatment",placeholder:"Enter Treatment",value:t.treatment,onChange:i}),(0,l.jsx)(a.Z,{label:"medication",label_txt:"Medication",type:"textarea",id:"medication",name:"medication",placeholder:"Enter Medication",value:t.medication,onChange:i}),(0,l.jsx)(a.Z,{label:"comments",label_txt:"Comments",type:"textarea",id:"comments",name:"comments",placeholder:"Enter Comments",value:t.comments,onChange:i}),(0,l.jsx)("br",{}),(0,l.jsx)(n.Z,{type:"submit",children:"Submit"})]})}},112:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(791),n=s(777),l=s(243),i=s(108),r=s(689),o=s(0),c=s(906),d=s(297),h=s(987),m=s(63),x=s(242),p=s(184);const g=e=>{const{show:t,handleClose:s,triggerRefresh:n}=e,{id:c}=(0,r.UO)(),d=(0,a.useContext)(i.V),[h,g]=(0,a.useState)(e.patient);return(0,p.jsx)("div",{children:t?(0,p.jsx)("div",{className:"bg-black bg-opacity-80 w-full h-full fixed top-0 left-0 flex justify-center",children:(0,p.jsxs)("div",{className:"bg-white overflow-y-auto w-full max-w-sm md:max-w-lg lg:max-w-3xl pl-10 pb-10",children:[(0,p.jsx)("div",{className:"bg-white overflow-auto flex justify-end",children:(0,p.jsxs)("button",{type:"button",className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:s,children:[(0,p.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,p.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,p.jsxs)("div",{className:"pr-10",children:[(0,p.jsx)("div",{className:"prose",children:(0,p.jsx)("h2",{className:"pb-6",children:"Update Patient"})}),(0,p.jsx)("hr",{}),(0,p.jsx)("br",{}),(0,p.jsx)(x.Z,{patient:h,handleSubmit:async e=>{e.preventDefault(),l.Z.patch("http://localhost:8000/"+"api/patients/update/".concat(c),(0,m.Z)({},h),{headers:{Authorization:"Bearer "+d.token}}).then((e=>{(0,o.Z)("Successfully updated patient!"),s()})).then((()=>n())).catch((e=>{(0,o.S)(e.response.data.message)}))},handleOnChange:e=>{const{name:t,value:s}=e.target;g((0,m.Z)((0,m.Z)({},h),{},{[t]:s}))}})]})]})}):(0,p.jsx)("div",{className:"hidden"})})},j=e=>{const{show:t,handleClose:s,triggerRefresh:n}=e,{id:c}=(0,r.UO)(),d=(0,a.useContext)(i.V),m=(0,r.s0)();return(0,p.jsx)("div",{children:t?(0,p.jsx)("div",{className:"bg-black bg-opacity-80 w-full h-full fixed top-0 left-0 flex justify-center items-center",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"bg-white flex justify-end",children:(0,p.jsxs)("button",{type:"button",className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:s,children:[(0,p.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,p.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,p.jsx)("div",{className:"bg-white h-56 w-full max-w-sm md:max-w-lg lg:max-w-3xl px-10",children:(0,p.jsxs)("div",{className:"prose",children:[(0,p.jsx)("h2",{className:"pb-6",children:"Are you sure you want to delete this patient?"}),(0,p.jsxs)("p",{children:[(0,p.jsx)("b",{children:"Note:"})," This action cannot be undone."]}),(0,p.jsx)("div",{className:"flex justify-center w-full",children:(0,p.jsx)(h.Z,{variant:"danger",onClick:async e=>{e.preventDefault(),l.Z.delete("http://localhost:8000/"+"api/patients/delete/".concat(c),{headers:{Authorization:"Bearer "+d.token}}).then((e=>{(0,o.Z)("Successfully deleted patient!"),m("/patients"),s()})).then((()=>n())).catch((e=>{(0,o.S)(e.response.data.message)}))},children:"Delete"})})]})})]})}):(0,p.jsx)("div",{className:"hidden"})})},u=()=>{const e=(0,a.useContext)(i.V),[t,s]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[u,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[N,v]=(0,a.useState)(null),{id:w}=(0,r.UO)(),C=(0,r.s0)();return(0,a.useEffect)((()=>{e.token?l.Z.get("".concat("http://localhost:8000/","api/patients/fetch/").concat(w),{headers:{Authorization:"Bearer "+e.token}}).then((e=>{s(e.data.patient)})).then((()=>{l.Z.get("http://localhost:8000/api/users/profile",{headers:{Authorization:"Bearer "+e.token}}).then((e=>{const t=e.data.name;v("".concat(t))})).catch((e=>{(0,o.S)(e)}))})).catch((e=>{(0,o.S)(e)})):C("/login")}),[e,w,C,f]),t&&N?(0,p.jsxs)(n.Z,{children:[(0,p.jsx)("div",{className:"prose",children:(0,p.jsx)("h2",{className:"pb-6",children:"Patient Profile"})}),(0,p.jsx)("hr",{}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex flex-wrap",children:[(0,p.jsx)("div",{className:"pb-10 flex justify-center items-center lg:w-52",children:(0,p.jsx)("img",{src:t.image?"http://localhost:8000/"+t.image:c,alt:"".concat(t.first_name," ").concat(t.last_name)})}),(0,p.jsx)("div",{className:"w-2/3 lg:pl-8",children:(0,p.jsx)("table",{children:(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"First Name"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:t.first_name})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"Last Name"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:t.last_name})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"Age"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:t.age})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"Contact"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:t.contact})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"Emergency Contact"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:t.emergency_contact})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"font-bold",children:"Doctor"}),(0,p.jsx)("td",{className:"py-2 pl-4",children:N})]})]})})})]}),(0,p.jsx)("br",{}),(0,p.jsx)("hr",{}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Pre-Existing Conditions"}),(0,p.jsx)("p",{children:t.pre_existing_conditions?t.pre_existing_conditions:"No Pre-Existing Conditions"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Symptoms"}),(0,p.jsx)("p",{children:t.diagnosis?t.symptoms:"No symptoms assigned"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Diagnosis"}),(0,p.jsx)("p",{children:t.diagnosis?t.diagnosis:"No diagnosis assigned"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Treatment"}),(0,p.jsx)("p",{children:t.treatment?t.treatment:"No treatment assigned"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Medication"}),(0,p.jsx)("p",{children:t.medication?t.medication:"No medication assigned"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{className:"font-bold",children:"Comments"}),(0,p.jsx)("p",{children:t.comments?t.comments:"No comments."}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)(h.Z,{variant:"warning",onClick:()=>{x(!0)},children:"Update"}),(0,p.jsx)(h.Z,{variant:"danger",onClick:()=>{b(!0)},children:"Delete"})]})]}),(0,p.jsx)("div",{children:(0,p.jsx)(g,{show:m,handleClose:()=>x(!1),patient:t,triggerRefresh:()=>y((e=>!e))})}),(0,p.jsx)("div",{children:(0,p.jsx)(j,{show:u,handleClose:()=>b(!1),patient:t,triggerRefresh:()=>y((e=>!e))})})]}):(0,p.jsx)(d.Z,{})}},987:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(184);const n=e=>{const{variant:t,type:s,onClick:n,children:l}=e;let i,r;switch(t){case"primary":default:i="bg-blue-500",r="bg-blue-700";break;case"warning":i="bg-yellow-500",r="bg-yellow-700";break;case"danger":i="bg-red-500",r="bg-red-700"}return(0,a.jsx)("button",{className:"block ".concat(i," text-white font-bold py-2 px-6 hover:").concat(r),type:s,onClick:n,children:l})}},777:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(184);const n=e=>{const{children:t}=e;return(0,a.jsx)("div",{className:"bg-white w-full h-fit max-w-sm md:max-w-lg lg:max-w-3xl p-10 mx-auto",children:t})}},251:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(184);const n=e=>{const{label:t,label_txt:s,type:n,id:l,name:i,placeholder:r,value:o,onChange:c}=e;let d;return"text"===n||"number"===n||"email"===n||"password"===n?d=(0,a.jsx)("input",{type:n,id:l,name:i,placeholder:r,value:o,onChange:c,className:"border border-gray-300 shadow p-2 w-full"}):"textarea"===n?d=(0,a.jsx)("textarea",{className:"border border-gray-300 shadow p-2 w-full",style:{resize:"none"},id:l,name:i,placeholder:r,rows:"2",value:o,onChange:c}):"file"===n&&(d=(0,a.jsx)("input",{className:"border border-gray-300 shadow w-full file:bg-blue-500 file:text-white file:font-bold file:py-2 file:px-4",type:n,onChange:c})),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:t,className:"block mb-2 font-bold text-gray-600",children:s}),d]})}},0:(e,t,s)=>{s.d(t,{S:()=>n,Z:()=>l});var a=s(174);const n=e=>a.Am.error(e,{position:a.Am.POSITION.TOP_RIGHT,autoClose:3e3}),l=e=>{a.Am.success(e,{position:a.Am.POSITION.TOP_RIGHT})}},906:(e,t,s)=>{e.exports=s.p+"static/media/profile_photo.7a6a6c54279a54d1977c.jpeg"}}]);
//# sourceMappingURL=112.df56061d.chunk.js.map