{"version":3,"file":"static/js/356.a4858de4.chunk.js","mappings":"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","sources":["shared/components/Card.jsx","patients/pages/Patients.jsx","shared/components/Input.jsx","shared/components/toast.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Card = (props) => {\n  const { title, link, imgsrc, imgalt } = props;\n\n  return (\n    <div className=\"w-80 h-96 relative overflow-auto shadow-lg bg-blue-600\">\n      <div className=\"font-semibold text-center text-white p-4\">{title}</div>\n      <div className=\"w-full h-60 flex justify-center items-center\">\n        <img className=\"w-60 h-60\" src={imgsrc} alt={imgalt} />\n      </div>\n      <div className=\"w-full h-9 absolute bottom-0 text-center\">\n        <Link className=\"text-white hover:text-blue-300\" to={link}>\n          View\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { handleError } from \"../../shared/components/toast\";\nimport Card from \"../../shared/components/Card\";\nimport LoadingSpinner from \"../../shared/components/LoadingSpinner\";\nimport profile_photo from \"../../imgs/profile_photo.jpeg\";\nimport Input from \"../../shared/components/Input\";\n\nconst Patients = () => {\n  const auth = useContext(AuthContext);\n  const [patients, setPatients] = useState(null);\n  const [filteredPatients, setFilteredPatients] = useState(null);\n  const navigate = useNavigate();\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    if (auth.token) {\n      axios\n        .get(`${process.env.REACT_APP_SERVER_URL}api/patients/fetchall`, {\n          headers: {\n            Authorization: \"Bearer \" + auth.token,\n          },\n        })\n        .then((resp) => {\n          // console.log(resp);\n          setPatients(resp.data.patients);\n          setFilteredPatients(resp.data.patients);\n        })\n        .catch((err) => {\n          handleError(err);\n        });\n    } else {\n      navigate(\"/login\");\n    }\n  }, [auth.token, navigate]);\n\n  const handleOnChange = (e) => {\n    const { value } = e.target;\n    setSearch(value);\n    setFilteredPatients(\n      patients.filter(\n        (patient) =>\n          patient.first_name.toLowerCase().includes(value.toLowerCase()) ||\n          patient.last_name.toLowerCase().includes(value.toLowerCase())\n      )\n    );\n\n    // setInputValue({\n    //   ...inputValue,\n    //   [name]: value,\n    // });\n  };\n\n  if (patients == null) {\n    return <LoadingSpinner />;\n  } else if (patients.length === 0 && auth.token) {\n    return (\n      <div className=\"bg-white p-10 h-80 shadow md:w-3/4 lg:w-1/2 mx-auto\">\n        <div className=\"prose\">\n          <h2 className=\"pb-6\">No Patients</h2>\n        </div>\n        <p>You have no patients.</p>\n      </div>\n    );\n  }\n\n  const patientCards = filteredPatients.map((patient) => (\n    <div className=\"m-3\" key={patient._id}>\n      <Card\n        title={`${patient.first_name} ${patient.last_name}`}\n        imgsrc={\n          patient.image\n            ? process.env.REACT_APP_SERVER_URL + patient.image\n            : profile_photo\n        }\n        imgalt={patient.name}\n        link={`/patientdetail/${patient._id}`}\n      />\n    </div>\n  ));\n\n  return (\n    <div className=\"w-3/4\">\n      <div className=\"flex justify-center\">\n        <div className=\"w-96 pb-3\">\n          <Input\n            label=\"search\"\n            type=\"text\"\n            id=\"search\"\n            name=\"search\"\n            placeholder=\"Search\"\n            value={search}\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n      <div className=\"w-full flex flex-wrap justify-center\">{patientCards}</div>\n    </div>\n  );\n};\n\nexport default Patients;\n","const Input = (props) => {\n  const { label, label_txt, type, id, name, placeholder, value, onChange } =\n    props;\n\n  let element;\n  if (\n    type === \"text\" ||\n    type === \"number\" ||\n    type === \"email\" ||\n    type === \"password\"\n  ) {\n    element = (\n      <input\n        type={type}\n        id={id}\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        className=\"border border-gray-300 shadow p-2 w-full\"\n      />\n    );\n  } else if (type === \"textarea\") {\n    element = (\n      <textarea\n        className=\"border border-gray-300 shadow p-2 w-full\"\n        style={{ resize: \"none\" }}\n        id={id}\n        name={name}\n        placeholder={placeholder}\n        rows=\"2\"\n        value={value}\n        onChange={onChange}\n      />\n    );\n  } else if (type === \"file\") {\n    element = (\n      <input\n        className=\"border border-gray-300 shadow w-full file:bg-blue-500 file:text-white file:font-bold file:py-2 file:px-4\"\n        type={type}\n        onChange={onChange}\n      />\n    );\n  }\n\n  return (\n    <div className=\"mb-3\">\n      <label htmlFor={label} className=\"block mb-2 font-bold text-gray-600\">\n        {label_txt}\n      </label>\n      {element}\n    </div>\n  );\n};\nexport default Input;\n","import { toast } from \"react-toastify\";\n\nconst handleSuccess = (msg) => {\n  toast.success(msg, {\n    position: toast.POSITION.TOP_RIGHT,\n  });\n};\n\nconst handleError = (err) =>\n  toast.error(err, {\n    position: toast.POSITION.TOP_RIGHT,\n    autoClose: 3000,\n  });\n\nexport { handleError };\nexport default handleSuccess;\n"],"names":["props","title","link","imgsrc","imgalt","_jsxs","className","children","_jsx","src","alt","Link","to","Patients","auth","useContext","AuthContext","patients","setPatients","useState","filteredPatients","setFilteredPatients","navigate","useNavigate","search","setSearch","useEffect","token","axios","get","concat","process","headers","Authorization","then","resp","data","catch","err","handleError","LoadingSpinner","length","patientCards","map","patient","Card","first_name","last_name","image","profile_photo","name","_id","Input","label","type","id","placeholder","value","onChange","e","target","filter","toLowerCase","includes","label_txt","element","style","resize","rows","htmlFor","toast","error","position","POSITION","TOP_RIGHT","autoClose","msg","success"],"sourceRoot":""}